@page "/profile/changepassword"
@inject NavigationManager NavManager

<div id="profile-background">
    <div id="profile-bar" class="m-x-5 w-75 bg-white rounded-3 m-5 d-lg-flex flex-row justify-content-between p-1 flex-nowrap">
            <div class="w-25 p-1 d-flex align-items-center justify-content-center flex-nowrap">
                <img class="h-100" src="assets/Profile Icon.svg" />
            </div>
            <div class="p-1 d-flex flex-column align-items-center justify-content-center text-end flex-nowrap">
                <h2 class="m-0">@GetUserName()</h2>

                <p class="m-0">@GetAccountType() Account</p>
            </div>
        </div>

    <div id="profile-description-container" class="m-x-5 w-100 bg-white rounded-profile p-3">
        <h2 class="text-center fw-bold">Change Password:</h2>
        <div id="profile-edit-container" class="justify-content-center text-center">

            <EditForm Model="@passForm" OnSubmit="@SubmitNewPass">
                <InputText id="old-pass" class="d-block mb-2" placeholder="Old Password" @bind-Value="passForm.oldPassword" />
                <InputText id="new-pass" class="d-block mb-2" placeholder="New Password" @bind-Value="passForm.newPassword" />
                <InputText id="retype-new-pass" class="d-block mb-2" placeholder="Retype New Password" @bind-Value="passForm.retypedPassword" />

                <button type="submit">Submit</button>
            </EditForm>
        </div>
    </div>
</div>


@code {
    //Replace with select operation form database.
    private string accountType = "Student";

    private string GetAccountType()
    {
        return accountType;
    }

    //Replace with select operation form database.
    private string userName = "Scott Mumby";

    private string GetUserName()
    {
        return userName;
    }

    Data.ProfilePasswordForm passForm = new Data.ProfilePasswordForm();

    private void SubmitNewPass()
    {
        //On Success
        NavManager.NavigateTo("/profile");
    }
}
